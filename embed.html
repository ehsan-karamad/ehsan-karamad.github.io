<label> Source: </label> <input id="input-url" value="./counter.html"/>
<label> Type: </label> <input id="input-type" value="text/html"/>
<label> Data: </label> <input id="input-data" value=""/>
<label> Style:</label> <input id="input-style" value="float: left;"/>
<button onclick="attachTag('embed');"> Attach New embed </button>
<button onclick="attachTag('object')"> Attach New Object </button>
<div id="container"></div>

<script>
function attachTag(tag) {
	function setAttributes(e) {
		e.src = document.getElementById('input-url').value;
		e.type = document.getElementById('input-type').value;
		e.data = document.getElementById('input-data').value;
	}

	function setStyle(e) {
		e.style = document.getElementById("input-style").value;
	}

	var el = document.createElement(tag);
	setAttributes(el);
	let windowIndex = window.frames.length;
	var updateAttributes = document.createElement('button');
	updateAttributes.textContent = 'Update type/src/data';
	updateAttributes.onclick = function() {
		setAttributes(el);
	};
	var updateStyle = document.createElement('button');
	updateStyle.textContent = "Update Style";
	updateStyle.onclick = function() {
		setStyle(el);
	};

	var updateWindowLocation = document.createElement('button');
	updateWindowLocation.textContent = 'Update Window Location';
	updateWindowLocation.onclick = function() {
		window.frames[windowIndex].location.href = document.getElementById('input-url').value;
	};

	var div = document.createElement('div');
	div.appendChild(el);
	div.appendChild(updateAttributes);
	div.appendChild(updateStyle);
	document.getElementById('container').appendChild(div);
}
</script>


